{% extends "dashboard/base.html" %}

{% block content %}
  <section class="card shadow-sm mb-4">
    <div class="card-body">
      <h2 class="h5 mb-3">Casos</h2>
      <form
        class="row g-2 align-items-end"
        method="get"
        action="/dashboard/cases"
        up-target="#cases-list-fragment"
        up-push-url="true"
      >
        <div class="col-12 col-md-3">
          <label class="form-label" for="status">Status</label>
          <select class="form-select form-select-sm" id="status" name="status">
            <option value="">Todos</option>
            {% for option in status_options %}
              <option value="{{ option }}" {% if filters.status == option %}selected{% endif %}>
                {{ option }}
              </option>
            {% endfor %}
          </select>
        </div>
        <div class="col-6 col-md-3">
          <label class="form-label" for="from_date">De</label>
          <input
            class="form-control form-control-sm"
            id="from_date"
            name="from_date"
            type="date"
            value="{{ filters.from_date }}"
          >
        </div>
        <div class="col-6 col-md-3">
          <label class="form-label" for="to_date">Ate</label>
          <input
            class="form-control form-control-sm"
            id="to_date"
            name="to_date"
            type="date"
            value="{{ filters.to_date }}"
          >
        </div>
        <input type="hidden" name="page" value="1">
        <input type="hidden" name="page_size" value="{{ filters.page_size }}">
        <div class="col-12 col-md-3">
          <button class="btn btn-primary btn-sm w-100" type="submit">Aplicar filtros</button>
        </div>
      </form>
    </div>
  </section>
  {% include "dashboard/partials/cases_list_fragment.html" %}
{% endblock %}
